const translations = {
  /* Page de CV */
  "my-resume-title": {
    fr: "Mon CV",
    en: "My Resume",
  },
  "my-resume-intro": {
    fr: "Découvrez mon parcours et mes compétences à travers mon CV!",
    en: "Explore my background and skills through my CV!",
  },
  "personal-present-title": {
    fr: "Mon Parcours",
    en: "My Career Path",
  },

  "personal-present": {
    fr: "Lauréat d’une bourse privée, j’ai quitté ma région à 17 ans pour suivre une classe préparatoire à Paris. Après deux années exigeantes, j’ai entrepris un tour du monde en sac à dos avant de relever le défi des concours d’ingénieurs en candidat libre. Aujourd’hui, je poursuis mon parcours à l’École Polytechnique Universitaire de Lille, où je développe mes compétences en informatique et statistiques avec détermination et passion.",
    en: "Recipient of a private scholarship, I left my region at the age of 17 to attend a preparatory class in Paris. After two demanding years, I embarked on a backpacking journey around the world before taking on the challenge of engineering entrance exams as an independent candidate. Today, I am pursuing my studies at the Polytechnic University School of Lille, where I am developing my skills in computer science and statistics with determination and passion.",
  },
  "prog-skills": {
    fr: "Compétences en Programmation",
    en: "Programming Skills",
  },
  // SOFT SKILLS
  "soft-skills-title": {
    fr: "Mes Soft Skills",
    en: "My Soft Skills",
  },
  "soft-skills-title-1": {
    fr: "Determination & Persévérance",
    en: "Determination & Perseverance",
  },
  "soft-skills-text-1": {
    fr: "Capable de mener à bien des projets exigeants.",
    en: "Capable of leading complex projects.",
  },
  "soft-skills-title-2": {
    fr: "Autonomie & Prise d'initiative",
    en: "Autonomy & Initiative",
  },
  "soft-skills-text-2": {
    fr: "Expérience significative dans la gestion de projets en autonomie.",
    en: "Significant experience in managing projects independently.",
  },
  "soft-skills-title-3": {
    fr: "Capacité d'adaptation",
    en: "Adaptability",
  },
  "soft-skills-text-3": {
    fr: "Expérience dans des environnements variés et multiculturels.",
    en: "Experience in diverse and multicultural environments.",
  },
  "soft-skills-title-4": {
    fr: "Gestion du stress & Résilience",
    en: "Stress Management & Resilience",
  },
  "soft-skills-text-4": {
    fr: "Capacité à maintenir la performance sous pression.",
    en: "Ability to maintain performance under pressure.",
  },
  "soft-skills-title-5": {
    fr: "Curiosité & Apprentissage continu",
    en: "Curiosity & Continuous Learning",
  },
  "soft-skills-text-5": {
    fr: "Passionné par les nouvelles technologies et les défis complexes.",
    en: "Passionate about new technologies and complex challenges.",
  },
  "soft-skills-title-6": {
    fr: "Travail en équipe & Leadership",
    en: "Teamwork & Leadership",
  },
  "soft-skills-text-6": {
    fr: "Capacité à collaborer efficacement et à guider un groupe vers les objectifs.",
    en: "Ability to collaborate effectively and lead a group towards objectives.",
  },
  // THEORICAL SKILLS
  "theoritical-skills-title": {
    fr: "Compétences Théoriques",
    en: "Theoretical Skills",
  },
  "theoritical-skills-title-1": {
    fr: "Statistiques",
    en: "Statistics",
  },
  "theoritical-skills-text-1": {
    fr: "Analyse, modélisation et interprétation des données.",
    en: "Data analysis, modeling, and interpretation.",
  },
  "theoritical-skills-title-2": {
    fr: "Théorie des Graphes & Combinatoire",
    en: "Graph Theory & Combinatorial",
  },
  "theoritical-skills-text-2": {
    fr: "Optimisation, réseaux et structures complexes.",
    en: "Optimization, networks, and complex structures.",
  },
  "theoritical-skills-title-3": {
    fr: "Automates",
    en: "Automata",
  },
  "theoritical-skills-text-3": {
    fr: "Langages formels, expressions régulières et reconnaissance de motifs.",
    en: "Formal languages, regular expressions, and pattern recognition.",
  },
  "theoritical-skills-title-4": {
    fr: "Base de données",
    en: "Databases",
  },
  "theoritical-skills-text-4": {
    fr: "Modélisation et conception de bases de données.",
    en: "Database modeling and design.",
  },
  "theoritical-skills-title-5": {
    fr: "Data Mining",
    en: "Data Mining",
  },
  "theoritical-skills-text-5": {
    fr: "Extraction de connaissances à partir de grandes bases de données.",
    en: "Extracting knowledge from large databases.",
  },
  "theoritical-skills-title-6": {
    fr: "Parsing",
    en: "Parsing",
  },
  "theoritical-skills-text-6": {
    fr: "Analyse syntaxique et conception d'analyseurs grammaticaux.",
    en: "Syntax analysis and construction of grammatical analyzers.",
  },
  // LANGUAGES
  "langues-title": {
    fr: "Langues",
    en: "Languages",
  },
  "cv-contact-title": {
    fr: "Me Contacter",
    en: "Contact Me",
  },
  "langues-title-1": {
    fr: "Anglais",
    en: "English",
  },
  "langues-title-2": {
    fr: "Allemand",
    en: "German",
  },
  "langues-title-3": {
    fr: "Japonais",
    en: "Japanese",
  },
  /* Page de Contact */
  "My-Contact-Title": {
    fr: "Contactez-moi",
    en: "Contact Me",
  },
  "My-Contact-Intro": {
    fr: "N'hésitez pas à me contacter en m'envoyant un email à l'une des adresses suivante !",
    en: "Don't hesitate to contact me by sending an email to one of the following addresses!",
  },
  /*Nave Bar*/
  "nav-cv": {
    fr: "CV",
    en: "Resume",
  },
  "nav-loisirs": {
    fr: "Loisirs",
    en: "Hobbies",
  },
  "nav-projets": {
    fr: "Projets",
    en: "Projects",
  },
  "nav-bibliographie": {
    fr: "Bibliographie",
    en: "Bibliography",
  },
  /* Biliographie */
  "biliographie-title": {
    fr: "Bibliographie",
    en: "Bibliography",
  },
  "bibliographie-intro": {
    fr: "Je regroupe ici mes livres de mathématiques et d'informatique !",
    en: "I group here my books of mathematics and computer science !",
  },
  "math-title": {
    fr: "Mes livres",
    en: "My books",
  },
  /* Loisirs */
  "loisirs-title": {
    fr: "Mes Loisirs",
    en: "My Hobbies",
  },
  "loisirs-intro": {
    fr: "L'une de mes grandes passions est la photographie!",
    en: "One of my great passions is photography!",
  },
  /* Home Page */
  "hero-title": {
    fr: "Bienvenue sur mon site",
    en: "Welcome to my website",
  },
  "hero-intro": {
    fr: "Plongez dans mon univers, découvrez mes projets et bien plus encore !",
    en: "Dive into my universe, discover my projects and much more !",
  },
  "infos-simple": {
    fr: `À propos de moi

Actuellement étudiant en Data et Computer Engineering à l'École Polytechnique Universitaire de Lille.
Je suis passionné de Mathématiques et d'Informatique, notamment de Théorie des Probabilités et d'Intelligence Artificielle.`,
    en: `About Me

Currently studying Data and Computer Engineering at the Polytechnic University School of Lille.
I'm passionate about Mathematics and Computer Science, particularly Probability Theory and Artificial Intelligence.`,
  },
  parcours: {
    fr: `Mon Parcours

● École Polytechnique Universitaire de Lille
● Classes Préparatoires aux Grandes Ecoles : Charlemagne Paris 
● Loréat 2021 de Du Pays Basque aux Grandes Ecoles`,
    en: `My Journey

● Polytechnic University School of Lille
● Preparatory Classes for the Grandes Écoles: Charlemagne Paris
● 2021 Laureate of From the Basque Country to the Grandes Écoles`,
  },
  "copy-email-text": {
    fr: "Copier",
    en: "Copy",
  },
  // PAGE PROJETS
  "projets-title": {
    fr: "Mes Projets",
    en: "My Projects",
  },
  "projets-intro": {
    fr: `Je fais ici la liste de mes projets !
    J'y liste des projets d'école ainsi que mes projets personnels.`,
    en: `Here is the list of my projects !
    I list school projects as well as personal projects.`,
  },
  // -> Projet n°1
  "dashbord-title": {
    fr: "Projet Dashbord",
    en: "Dashbord Project",
  },
  "dashbord-description": {
    fr: "Dashbord des données de l'INSEE sur les salaires en France",
    en: "INSEE salary data dashbord",
  },
  // -> Projet n°2
  "portfolio-title": {
    fr: "Projet Portfolio",
    en: "Portfolio",
  },
  "portfolio-description": {
    fr: "Portfolio de mes projets personnels",
    en: "My personal projects portfolio",
  },
  // -> Projet n°3
  "HammerSpoon-title": {
    fr: "Projet HammerSpoon",
    en: "HammerSpoon Project",
  },
  "HammerSpoon-description": {
    fr: "Mon propre window manager",
    en: "My own window manager",
  },
  // -> Projet n°4
  "projet-bdd-title": {
    fr: "Projet BDD",
    en: "Database Project",
  },
  "projet-bdd-description": {
    fr: "Site de gestion d'événements",
    en: "Event management Website",
  },
  // -> Projet n°5
  "projet-neovim-title": {
    fr: "Projet Neovim",
    en: "Neovim Project",
  },
  "projet-neovim-description": {
    fr: "IDE personnalisé",
    en: "My personal IDE",
  },
  // -> Projet n°6
  "projet-musique-title": {
    fr: "Projet Musique",
    en: "Music Project",
  },
  "projet-musique-description": {
    fr: "Téléchargeur de musique",
    en: "Music Downloader",
  },
  // -> Projet n°7
  "projet-gui-title": {
    fr: "Projet GUI Python",
    en: "Python GUI Project",
  },
  "projet-gui-description": {
    fr: `Interface d'ev. Python`,
    en: `Python v.e interface`,
  },
  // -> Projet n°8
  "projet-ia-chess-title": {
    fr: "Projet IA Echecs",
    en: "Chess IA Project",
  },
  "projet-ia-chess-description": {
    fr: "Mon propre Deep Blue",
    en: "My own Deep Blue",
  },
  // -> Projet n°9
  "projet-optimisation-title": {
    fr: "Optimisation",
    en: "Optimization",
  },
  "projet-optimisation-description": {
    fr: "Optimisation de réseaux éléctriques",
    en: "Optimization of electrical networks",
  },
  copyright: {
    fr: "© 2025 Alexis Evaristo - Tous droits reservés",
    en: "© 2025 Alexis Evaristo - All rights reserved",
  },
};

function toggleLanguage2() {
  const currentLang = localStorage.getItem("lang") || "fr";
  const newLang = currentLang === "fr" ? "en" : "fr";

  // Mise à jour du contenu
  updateContent2(newLang);

  // Animation de transition
  if (newLang === "en") {
    document.getElementById("flag-fr").style.transform = "translateY(-100%)";
    document.getElementById("flag-en").style.transform = "translateY(0)";
  } else {
    document.getElementById("flag-fr").style.transform = "translateY(0)";
    document.getElementById("flag-en").style.transform = "translateY(100%)";
  }

  // Sauvegarde du choix dans le localStorage
  localStorage.setItem("lang", newLang);
}

// Fonction qui remplace le texte dans les éléments HTML
function updateContent2(lang) {
  Object.keys(translations).forEach((id) => {
    const element = document.getElementById(id);
    if (element) {
      if (element.classList.contains("typewriter")) {
        // On met à jour le data-text et on vide le contenu visible
        element.setAttribute("data-text", translations[id][lang]);
        element.textContent = ""; // Réinitialise le contenu pour relancer l'animation

        // Si tu utilises une fonction d'animation personnalisée, relance-la ici :
        restartTypewriterAnimation(element);
      } else {
        element.textContent = translations[id][lang];
      }
    }
  });

  const langToggle = document.getElementById("lang-toggle");

  // Masquer avec flou
  langToggle.classList.add("hidden-lang-toggle");
  langToggle.classList.remove("visible-lang-toggle");

  // Réafficher après 10 secondes avec effet de flou inversé
  setTimeout(() => {
    langToggle.classList.remove("hidden-lang-toggle");
    langToggle.classList.add("visible-lang-toggle");
  }, 10000); // 10 000 ms = 10 s
}

// Applique la langue au chargement de la page
document.addEventListener("DOMContentLoaded", () => {
  const savedLang = localStorage.getItem("lang") || "fr";
  updateContent2(savedLang);

  if (savedLang === "en") {
    document.getElementById("flag-fr").style.transform = "translateY(-100%)";
    document.getElementById("flag-en").style.transform = "translateY(0)";
  }
});

function restartTypewriterAnimation(element) {
  const text = element.getAttribute("data-text");
  let i = 0;
  element.textContent = "";

  const interval = setInterval(() => {
    if (i < text.length) {
      element.textContent += text.charAt(i);
      i++;
    } else {
      clearInterval(interval);
    }
  }, 50); // vitesse d'écriture
}
